<!DOCTYPE html>
<html>
<script>
var n = 1
var n_pi = 0
const init = setTimeout(main, 200)

function main(){
  draw_line()
  iteration()
}

function iteration(){
    var tmp_x = Math.random()
    var tmp_y = Math.random()
    var tmp = Math.pow(tmp_x,2) + Math.pow(tmp_y,2)
    draw_point(tmp_x,tmp_y,tmp)  
    if(tmp<1){
      n_pi++
    }
    document.getElementById("result").innerHTML = 4 * n_pi / n
    n++
    setTimeout(iteration, 10)
}

function restart(){
  n = 1
  n_pi = 0
  var c = document.getElementById("canvas")
  var ctx = c.getContext("2d")
  ctx.clearRect(0, 0, c.width, c.height)
  draw_line()
}

function draw_point(tmp_x,tmp_y,tmp){
  var c = document.getElementById("canvas")
  var ctx = c.getContext("2d")
  ctx.strokeStyle = (tmp>1)?"red":"black"
  ctx.beginPath()
  ctx.arc(200*tmp_x, 200*(1-tmp_y), 1, 0, 2 * Math.PI)
  ctx.stroke()
}

function draw_line(){
  var c = document.getElementById("canvas")
  var ctx = c.getContext("2d")
  ctx.fillStyle = "#6699ff"
  ctx.arc(0, 200, 200, 0, 2 * Math.PI)
  ctx.fill()
  ctx.stroke()
}
</script>    
<body>
    <div>
        <canvas id="canvas" width="200" height="200" style="border: 1px solid ">
    </div>
    <img src="https://latex.codecogs.com/svg.image?\pi&space;\cong&space;4&space;*&space;\frac{N_{black}}{N_{black}&plus;{\color{Red}&space;N_{red}}}"><br><br>
    Pi = 
    <output id="result"></output><br><br>
    <button type="button" onclick="restart()">Restart</button>
</body>
</html>